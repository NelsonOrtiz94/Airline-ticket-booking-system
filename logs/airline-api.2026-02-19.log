2026-02-19 08:15:03 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-19 08:15:03 [main] INFO  org.example.Main - Starting Main using Java 21.0.10 with PID 7304 (C:\Users\NelsonAlejandroOrtiz\IdeaProjects\AirplaneTicketBooking\target\classes started by NelsonAlejandroOrtiz in C:\Users\NelsonAlejandroOrtiz\IdeaProjects\AirplaneTicketBooking)
2026-02-19 08:15:03 [main] DEBUG org.example.Main - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-19 08:15:03 [main] INFO  org.example.Main - No active profile set, falling back to 1 default profile: "default"
2026-02-19 08:15:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2026-02-19 08:15:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 261 ms. Found 4 R2DBC repository interfaces.
2026-02-19 08:15:08 [main] INFO  o.e.infrastructure.config.JwtService - JwtService initialized with expiration: 86400000 ms
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE IF EXISTS reservations CASCADE
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE IF EXISTS tickets CASCADE
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE IF EXISTS flights CASCADE
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: DROP TABLE IF EXISTS users CASCADE
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE users ( user_id SERIAL PRIMARY KEY, username VARCHAR(50) UNIQUE NOT NULL, password VARCHAR(255) NOT NULL, first_name VARCHAR(30) NOT NULL, last_name VARCHAR(30) NOT NULL, email VARCHAR(100) UNIQUE NOT NULL, role VARCHAR(20) NOT NULL DEFAULT 'USER', created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP )
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE flights ( flight_id SERIAL PRIMARY KEY, flight_number VARCHAR(20) UNIQUE NOT NULL, origin VARCHAR(30) NOT NULL, destination VARCHAR(30) NOT NULL, departure_time TIMESTAMP NOT NULL, arrival_time TIMESTAMP NOT NULL, available_seats INTEGER NOT NULL, total_seats INTEGER NOT NULL, price DECIMAL(10, 2) NOT NULL, airline VARCHAR(30) NOT NULL, status VARCHAR(20) NOT NULL DEFAULT 'ACTIVE', created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP )
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE tickets ( ticket_id SERIAL PRIMARY KEY, flight_id INTEGER NOT NULL, user_id INTEGER NOT NULL, passenger_name VARCHAR(30) NOT NULL, seat_number VARCHAR(10) NOT NULL, price DECIMAL(10, 2) NOT NULL, ticket_class VARCHAR(20) NOT NULL DEFAULT 'ECONOMY', status VARCHAR(20) NOT NULL DEFAULT 'CONFIRMED', created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (flight_id) REFERENCES flights(flight_id), FOREIGN KEY (user_id) REFERENCES users(user_id) )
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE TABLE reservations ( reservation_id SERIAL PRIMARY KEY, user_id INTEGER NOT NULL, ticket_id INTEGER NOT NULL, flight_id INTEGER NOT NULL, status VARCHAR(20) NOT NULL DEFAULT 'CONFIRMED', observations VARCHAR(100), reservation_date TIMESTAMP NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (user_id) REFERENCES users(user_id), FOREIGN KEY (ticket_id) REFERENCES tickets(ticket_id), FOREIGN KEY (flight_id) REFERENCES flights(flight_id) )
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE INDEX idx_flights_origin_destination ON flights(origin, destination)
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE INDEX idx_flights_departure_time ON flights(departure_time)
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE INDEX idx_tickets_user_id ON tickets(user_id)
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE INDEX idx_tickets_flight_id ON tickets(flight_id)
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE INDEX idx_reservations_user_id ON reservations(user_id)
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 0 returned as update count for SQL: CREATE INDEX idx_reservations_status ON reservations(status)
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 186 ms.
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - Executing SQL script from class path resource [data.sql]
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 1 returned as update count for SQL: INSERT INTO users (user_id, username, password, first_name, last_name, email, role, created_at, updated_at) VALUES (1, 'admin', '$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 'Admin', 'System', 'admin@airline.com', 'ADMIN', NOW(), NOW())
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - 21 returned as update count for SQL: INSERT INTO flights (flight_id, flight_number, origin, destination, departure_time, arrival_time, available_seats, total_seats, price, airline, status, created_at, updated_at) VALUES (1, 'AV101', 'BOG', 'MDE', '2026-03-15 08:00:00', '2026-03-15 09:30:00', 50, 50, 250000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (2, 'AV102', 'BOG', 'CTG', '2026-03-16 10:00:00', '2026-03-16 11:30:00', 50, 50, 300000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (3, 'AV103', 'BOG', 'CLO', '2026-03-17 12:00:00', '2026-03-17 13:00:00', 30, 30, 280000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (4, 'LA201', 'BOG', 'BAQ', '2026-03-18 14:00:00', '2026-03-18 15:15:00', 80, 80, 180000.00, 'LATAM', 'ACTIVE', NOW(), NOW()), (5, 'AV104', 'BOG', 'SMR', '2026-03-19 07:00:00', '2026-03-19 08:30:00', 40, 40, 320000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (6, 'AV105', 'BOG', 'PEI', '2026-03-20 09:00:00', '2026-03-20 10:00:00', 35, 35, 200000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (7, 'AV106', 'BOG', 'BGA', '2026-03-21 11:00:00', '2026-03-21 12:00:00', 45, 45, 190000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (8, 'AV107', 'BOG', 'ADZ', '2026-03-22 13:00:00', '2026-03-22 15:00:00', 60, 60, 450000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (9, 'AV201', 'MDE', 'BOG', '2026-03-15 10:00:00', '2026-03-15 11:30:00', 50, 50, 250000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (10, 'AV202', 'MDE', 'CTG', '2026-03-16 12:00:00', '2026-03-16 13:30:00', 40, 40, 270000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (11, 'AV203', 'MDE', 'CLO', '2026-03-17 14:00:00', '2026-03-17 15:00:00', 30, 30, 200000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (12, 'WI301', 'CTG', 'BOG', '2026-03-19 16:00:00', '2026-03-19 17:30:00', 60, 60, 220000.00, 'Wingo', 'ACTIVE', NOW(), NOW()), (13, 'WI302', 'CTG', 'MDE', '2026-03-20 08:00:00', '2026-03-20 09:30:00', 45, 45, 270000.00, 'Wingo', 'ACTIVE', NOW(), NOW()), (14, 'LA301', 'CTG', 'CLO', '2026-03-21 10:00:00', '2026-03-21 11:30:00', 35, 35, 290000.00, 'LATAM', 'ACTIVE', NOW(), NOW()), (15, 'AV401', 'CLO', 'BOG', '2026-03-17 13:30:00', '2026-03-17 14:30:00', 30, 30, 280000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (16, 'AV402', 'CLO', 'MDE', '2026-03-18 15:00:00', '2026-03-18 16:00:00', 30, 30, 200000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (17, 'LA401', 'BAQ', 'BOG', '2026-03-18 16:00:00', '2026-03-18 17:15:00', 80, 80, 180000.00, 'LATAM', 'ACTIVE', NOW(), NOW()), (18, 'AV501', 'SMR', 'BOG', '2026-03-19 09:00:00', '2026-03-19 10:30:00', 40, 40, 320000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (19, 'AV601', 'PEI', 'BOG', '2026-03-20 11:00:00', '2026-03-20 12:00:00', 35, 35, 200000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (20, 'AV701', 'BGA', 'BOG', '2026-03-21 13:00:00', '2026-03-21 14:00:00', 45, 45, 190000.00, 'Avianca', 'ACTIVE', NOW(), NOW()), (21, 'AV801', 'ADZ', 'BOG', '2026-03-22 16:00:00', '2026-03-22 18:00:00', 60, 60, 450000.00, 'Avianca', 'ACTIVE', NOW(), NOW())
2026-02-19 08:15:09 [reactor-tcp-nio-1] DEBUG o.s.r.connection.init.ScriptUtils - Executed SQL script from class path resource [data.sql] in 34 ms.
2026-02-19 08:15:09 [main] INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration - 

Using generated security password: 39a14fb2-0f58-435d-be9c-5202b66a7c57

2026-02-19 08:15:10 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-02-19 08:15:10 [main] INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 8085
2026-02-19 08:15:10 [main] INFO  org.example.Main - Started Main in 7.943 seconds (process running for 8.721)
